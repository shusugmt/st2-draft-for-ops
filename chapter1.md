## StackStorm で変わる運用
　ここでは StackStorm が本質的にどういったものなのかについて理解していきたいと思います。  
　StackStorm については、幾つかのブログエントリなどで "ワークフローエンジン" や "運用自動化ツール" などといった形で紹介されており、また 2016/05 に StackStorm を買収したは、StackStorm を " [ネットワーク・オートメーション・プラットフォーム](http://www.brocade.com/ja/about-us/newsroom/press-releases/2016/may/2016-05-27.html) " と呼んでいます (その後 Brocade を買収した Broadcom が、StackStorm を含む [ネットワーク部門を Extreme Network に売却](http://investor.extremenetworks.com/releasedetail.cfm?ReleaseID=1019294) )。  
　それぞれが注目する特徴毎にさまざまな呼ばれ方をされていますが、StackStorm CTO Dmitri Zimine 氏は、StackStorm の本質は " [IFTTT for DevOps](https://www.slideshare.net/brocade/eventdriven-automation-devops-way-iot-73581697) " だと語っています (固有名詞として "IFTTT" というサービスがありますが、ここでは一般名詞としての "IFTTT" を想定しています) 。以降では "IFTTT" と "DevOps" を理解することで、StackStorm の本質を紐解いていきます。  

### IFTTT について
　"IFTTT" は "IF This Then That" の略で、あるシステムからの入力 (イベント) に対して、全く別のシステムへ出力 (アクション) するという考え方を一般的に表します。  

(挿絵) IFTTT の概念を表現する絵 (ifttt.png)

　ソフトウェア開発者にとって馴染みの深い IFTTT を実現させたシステムの例として、CI/CD 環境があります。  
　StackStorm は [StackStorm Exchange](https://exchange.stackstorm.org/) で提供するシステム間で、相互に IFTTT を実現する仕組みを提供しています。例えば、仮想基盤のイベントに対して、ロードバランサに対するオペレーションを行ったり、Public IaaS クラウドにおけるリソースの変更に伴い、Excel を更新するといった処理（またはそれらの組み合わせ）を自動で行わせることができます。  

### DevOps について
　DevOps は既にバズワードとなって久しく、DevOps についての解説は 『[DevOpsを正しく理解しビジネスの価値を高める (中山 貴尋[著])](https://codezine.jp/article/detail/9717)』など多数あります。  
　一般的に "DevOps" とは、何がしかの情報サービスに関わる人間を、開発車(Developer)と運用者(Operator)の２種類に分類し、それぞれの職責を「サービスに対する機能開発によるビジネス価値の向上」と「サービスの継続稼働によるビジネス価値の向上」とした場合、それぞれの仕事がお互いのリスクになる構造になります。DevOps ではこうした状況に対して、アジャイル開発などの技法や各種ツールを用いて、お互いのリスクを最小化しながら目的 (ビジネス価値の向上) を実現する取り組みとして説明されます。  
　先ほどの記事で紹介された『[DevOps導入指南 Infrastructure as codeでチーム開発・サービス運用を効率化する](http://www.shoeisha.co.jp/book/detail/9784798147604)』でも、DevOps の本質は「Dev(開発) と Ops(運用) が密に協調・連携して、ビジネス価値を高めようとする働き方や文化」と解説されています。  
　注意していただきたいのは "DevOps" の対象は、必ずしも "開発者(Dev)" と "運用者(Ops)" ではないことです。"DevOps" の本質は、局所最適化した複数の組織において、それぞれが連携して全体最適（ビジネス価値の向上）を図ることなので、大局的な利害が一致する組織・人同士であれば誰とでも成立します。  

　後半でも同様の事例が出てきますが、StackStorm がどのように "DevOps" を実現するかの一例を簡単にご紹介します。  
　以下は、あるサービスを支えるシステム (System) と、サービスを管理・提供するチーム (Team) と、それぞれのサービスを利用するユーザ (User) を表します。  

(挿絵) 今までの運用 (devops1.png)

　ここではユーザが、ビジネスを効率的に行うためにそれぞれのサービスを利用し、各チームはそれらを維持・提供する役割を負っているとします。  
　通常、チームはユーザに対してシステムの存在を周知させ、またシステムの使い方を理解させるためにマニュアルなどを作成します。  
　しかし、チームによる周知が出来ていないためにユーザがシステムについて認知していない場合 (System-A) や、ドキュメントが無いなどの理由でシステムの使い方がわからない場合 (System-C) には、ユーザはそれらのシステムを利用できません。  
　またユーザがシステムを認知・使い方を把握していたとしても、複数のシステムが存在する場合、ユーザはそれぞれのシステムの異なる使い方 (依頼の方法) を覚えなければなりません。  

　これに対し StackStorm は運用プラットフォームと呼ばれているように、それぞれのシステム群を抽象化し、ユーザに対して全てのシステムを統一的に扱えるインターフェイスを提供します。  

(挿絵) StackStorm による運用 (devops2.png)

　StackStorm によるシステムの抽象化により、システムを運用する各チームがシステムの各機能を StackStorm に登録することで、全てのユーザが認知・利用できるようになります。  
　また、全てのシステムが統一した方法で操作できるため、従来個別に操作していたシステムを横並びに操作することができ、StackStorm はこれを yaml ファイルで記述する仕組み (ワークフロー機能) を提供しています。  

　このように、ユーザが全てのシステムを統一的に扱えるようになたっただけでなく、ユーザとチームの双方が、StackStorm という運用プラットフォームの存在を共通認識として持つことで、機能の追加・利用・フィードバックのサイクルがスムーズに循環し、冒頭で述べた『DevOps』を実現できます。  

## ここまでのまとめ
　ここまで、StackStorm CTO の Dmitri Zimine 氏が語った "IFTTT for DevOps" が何を意味するかいついて解説しました。ここまでの内容で、多種多様なシステムを組織的に運用することで効果を発揮することが分かっていただけたのではないかと思います。  
　この後で StackStorm を利用する各組織（企業）から、どのように利用しているかの事例をご紹介していただきます。  
